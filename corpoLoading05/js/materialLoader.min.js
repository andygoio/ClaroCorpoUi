function animate(){ctx.clearRect(0,0,canvas.width,canvas.height);var a=total/duration;arc.keyframes.forEach(function(e){if(!(e.start>total||e.end<total))for(var t in e.props)e.props.hasOwnProperty(t)&&(arc[t]=easings[e.props[t].ease](a,total-e.start,e.props[t].start,e.props[t].change,e.end-e.start))}),draw()}function draw(){drawArc(arc)}function drawArc(e,a){ctx.beginPath(),ctx.lineWidth=5,ctx.lineCap="round";var t=e.begin*Math.PI+-.5*Math.PI,r=e.end*Math.PI+-.5*Math.PI,n=!1;Math.abs(t-r)<.9&&(t-=.025,r+=.025),t>r&&(n=!0),ctx.arc(canvas.width/2,canvas.height/2,canvas.width/2-10,t,r,n),ctx.strokeStyle=a?a:"#d32c1c",ctx.stroke()}function render(e){var a=(new Date).getTime(),t=a-lastTime;animate(t),lastTime=a,total+=t,duration>total&&!e?requestAnimationFrame(function(){render()}):e||requestAnimationFrame(function(){total=duration,render(!0)}),e&&(total=0,requestAnimationFrame(function(){render()}))}var $corpoCircularLoader=$(".corpo-circular-loader");$corpoCircularLoader.append("<canvas />");var $canvas=$("canvas");$canvas.attr("height",$corpoCircularLoader.height()),$canvas.attr("width",$corpoCircularLoader.width());var canvas=$canvas[0],ctx=canvas.getContext("2d"),requestAnimationFrame=window.webkitRequestAnimationFrame,lastTime=0,total=0,easings={easeLinear:function(e,a,t,r,n){return t+r*(a/n)}},offset=Math.PI*-.5,duration=4e3,arc={begin:0+offset,end:0+offset,keyframes:[{start:0,end:500,props:{begin:{start:0,change:1,ease:"easeLinear"},end:{start:0,change:2,ease:"easeLinear"}}},{start:500,end:1e3,props:{begin:{start:1,change:2,ease:"easeLinear"},end:{start:2,change:1,ease:"easeLinear"}}},{start:1e3,end:1500,props:{begin:{start:3,change:2,ease:"easeLinear"},end:{start:3,change:1,ease:"easeLinear"}}},{start:1500,end:2e3,props:{begin:{start:5,change:1,ease:"easeLinear"},end:{start:4,change:2,ease:"easeLinear"}}},{start:2e3,end:2500,props:{begin:{start:6,change:1,ease:"easeLinear"},end:{start:6,change:2,ease:"easeLinear"}}},{start:2500,end:3e3,props:{begin:{start:7,change:2,ease:"easeLinear"},end:{start:8,change:1,ease:"easeLinear"}}},{start:3e3,end:3500,props:{begin:{start:9,change:2,ease:"easeLinear"},end:{start:9,change:1,ease:"easeLinear"}}},{start:3500,end:4e3,props:{begin:{start:11,change:1,ease:"easeLinear"},end:{start:10,change:2,ease:"easeLinear"}}}]};requestAnimationFrame(function(){lastTime=(new Date).getTime(),render()});